import{r as p,j as e,u as H}from"./index-1fkukAxb.js";import{c as f,M as O,S as P,U as J,u as K,a as X,p as Y}from"./useTheme-TqfEWMCb.js";const Z=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Q=f("bookmark",Z);const ee=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],B=f("chevron-down",ee);const te=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ae=f("chevron-right",te);const se=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],le=f("eye-off",se);const re=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oe=f("eye",re);const ne=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ie=f("image",ne);const ce=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],de=f("layout-grid",ce);const xe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],me=f("list",xe);const he=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pe=f("pen-line",he);const ue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ge=f("plus",ue);const fe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],be=f("trash-2",fe);const we=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ye=f("x",we);function je(){const[c,i]=p.useState(()=>typeof localStorage<"u"?localStorage.getItem("wallpaper"):null),[n,l]=p.useState(!1),[x,h]=p.useState(null),m={sourceType:"local",localPath:"/backgrounds",localFiles:[],localCount:337,githubOwner:"DenverCoder1",githubRepo:"minimal-wallpapers",githubPath:"images"},g=d=>`${m.localPath}/${d}`,r=d=>new Promise(a=>{const t=new Image;t.src=d,t.onload=()=>a(!0),t.onerror=()=>a(!1)});return{wallpaper:c,fetchNewWallpaper:async()=>{l(!0),h(null);try{let d;if(m.sourceType==="local"){let a=!1,t=0;for(;!a&&t<5;){const o=Math.floor(Math.random()*m.localCount)+1,u=g(`bg-${o}.jpg`),w=g(`bg-${o}.png`);await r(u)?(d=u,a=!0):await r(w)&&(d=w,a=!0),t++}if(!a)throw new Error("Could not find a valid local image after multiple attempts")}i(d),localStorage.setItem("wallpaper",d)}catch(d){console.warn("Wallpaper fetch error:",d);const a=`https://picsum.photos/1920/1080?random=${Date.now()}`;i(a),localStorage.setItem("wallpaper",a)}finally{l(!1)}},clearWallpaper:()=>{i(null),localStorage.removeItem("wallpaper")},loading:n,error:x}}function ve({theme:c,toggleTheme:i,onRefreshWallpaper:n,toggleWallpaperVisibility:l,isWallpaperVisible:x,username:h,onOpenSettings:m}){const g=()=>{const r=new Date().getHours();return r<12?"Good Morning":r<17?"Good Afternoon":"Good Evening"};return e.jsx("header",{className:"px-5 pt-5 pb-3 lg:px-12 lg:pt-6 lg:pb-4",children:e.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-2.5 cursor-pointer hover:opacity-80 transition-opacity",onClick:m,title:"Open Settings",children:[e.jsx("div",{className:"w-10 h-10 lg:w-9 lg:h-9 rounded-full gradient-orange flex items-center justify-center text-base shadow-sm",children:"ðŸ‘‹"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-xs text-text-secondary",children:[g(),","]}),e.jsx("span",{className:"text-sm lg:text-base font-semibold text-text-primary",children:h||"User"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:l,className:`w-9 h-9 rounded-xl flex items-center justify-center shadow-sm hover:shadow-md transition-all hover:-translate-y-0.5 ${x?"bg-primary-orange text-white":"bg-bg-card text-text-primary"}`,title:x?"Hide Wallpaper":"Show Wallpaper",children:x?e.jsx(oe,{className:"w-4 h-4"}):e.jsx(le,{className:"w-4 h-4"})}),x&&e.jsx("button",{onClick:n,className:"w-9 h-9 rounded-xl bg-bg-card flex items-center justify-center shadow-sm hover:shadow-md transition-all hover:-translate-y-0.5",title:"Shuffle Wallpaper",children:e.jsx(ie,{className:"w-4 h-4 text-text-primary"})}),e.jsx("button",{onClick:i,className:"w-9 h-9 rounded-xl bg-bg-card flex items-center justify-center shadow-sm hover:shadow-md transition-all hover:-translate-y-0.5",title:"Toggle Theme",children:c==="light"?e.jsx(O,{className:"w-4 h-4 text-text-primary"}):e.jsx(P,{className:"w-4 h-4 text-text-primary"})})]})]})})}const $=[{id:"google",name:"Google",icon:e.jsxs("svg",{viewBox:"0 0 24 24",className:"w-full h-full","aria-hidden":"true",children:[e.jsx("path",{fill:"#4285F4",d:"M23.745 12.27c0-.79-.07-1.54-.19-2.27h-11.3v4.51h6.47c-.29 1.48-1.14 2.73-2.4 3.58v3h3.86c2.26-2.09 3.56-5.17 3.56-8.82z"}),e.jsx("path",{fill:"#34A853",d:"M12.255 24c3.24 0 5.95-1.08 7.93-2.91l-3.86-3c-1.08.72-2.45 1.16-4.07 1.16-3.13 0-5.78-2.11-6.73-4.96h-3.98v3.09C3.515 21.3 7.565 24 12.255 24z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.525 14.29c-.25-.72-.38-1.49-.38-2.29s.14-1.57.38-2.29V6.62h-3.98a11.86 11.86 0 000 10.76l3.98-3.09z"}),e.jsx("path",{fill:"#EA4335",d:"M12.255 4.75c1.77 0 3.35.61 4.6 1.8l3.42-3.42C18.205 1.19 15.495 0 12.255 0c-4.69 0-8.74 2.7-10.71 6.62l3.98 3.09c.95-2.85 3.6-4.96 6.73-4.96z"})]}),url:"https://www.google.com/search?q="},{id:"duckduckgo",name:"DuckDuckGo",icon:e.jsxs("svg",{viewBox:"0 0 24 24",className:"w-full h-full",fill:"none","aria-hidden":"true",children:[e.jsx("path",{fill:"#DE5833",d:"M6 13a2 2 0 11-4 0 2 2 0 014 0z"}),e.jsx("path",{fill:"#DE5833",d:"M12.98 9.9c.78 0 1.95-.3 2.1-.88.13-.5.7-.72 2.7.27 1.25.62 1.96 1.15 1.96 1.15s1.25.75 2.13.06c.88-.7.2-2.6-.9-3.23-1.08-.63-2.65-.87-2.65-.87s1.35-1.42.2-2.15-2.6-.08-2.6-.08c-1.85-.3-2.6 1-3.6 1.45-1 .45-.2 1.55-1.15 1.85-.6.18-1 .15-1 .15l-.47.1.66 2.08.62.1zm-4.3 1.96c.26 0 .5-.1.7-.22-1.3-.9-1.9-2.58-1.25-3.04.66-.45 2.53.86 2.53.86s1-.54 1.7-.1c.72.45.3 1.63-.3 1.92-.6.28-1 .4-1 .4s1.26.78 1.48 1.5c.23.73-.5 1.5-2.3 1.5-1.78 0-2.3-.67-2.3-.67s-.6.55-1.74.37c-1.14-.17-1.3-.9-1.3-.9s-2.02.6-3.2-.2c-1.17-.82-.72-1.87-.72-1.87s-1.87.1-2.27-1.17c-.4-1.28.98-1.78.98-1.78s-.2-1.2.6-1.7c.8-.5 1.68.22 1.68.22s-1.08-1.83.6-2.53c.8-.3 1.8.25 1.8.25S5.3.8 6.94 1.37c1.64.57 1.34 2 1.34 2s1.42-1.12 2.7-.42c1.27.7 1.15 2.22-.16 2.04-1.34-.18-1.7 1-1.7 1s1.37.53 1.14 1.83c-.24 1.3-1.55 1.12-1.55 1.12-.02.4.03.7.15.93.18.3.56.23.83.2.14 0 .28-.02.4-.04.4-.07.45.1.58.38.16.34.05.68-.13.9H8.7z"})]}),url:"https://duckduckgo.com/?q="},{id:"youtube",name:"YouTube",icon:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-full h-full","aria-hidden":"true",children:e.jsx("path",{fill:"#FF0000",d:"M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),url:"https://www.youtube.com/results?search_query="},{id:"bing",name:"Bing",icon:e.jsxs("svg",{viewBox:"0 0 24 24",className:"w-full h-full","aria-hidden":"true",children:[e.jsx("path",{fill:"#008373",d:"M12.96 4L5 7v10.5l8.66 4.9L20 18.9V9.28l-7.04-5.28zm.5 2.94l3.96 2.97L13.5 12V6.94zm-1.5 1.1v5.6l-4.14-2.16 4.14-3.44z",style:{fill:"#008080"}}),e.jsx("path",{d:"M5,3.25 L5,20.25 L18,13.25 L18,8.25 L10,12.25 L10,6.25 L5,3.25 Z",fill:"#008373",transform:"scale(1.1) translate(-1, -1)"}),e.jsx("path",{d:"M6 3v15l9 5V9L6 3zm2.5 3.5L13 9.5v7l-4.5-2.5V6.5z",fill:"#008373"})]}),url:"https://www.bing.com/search?q="},{id:"github",name:"GitHub",icon:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-full h-full",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.03.555-3.885-1.47-4.02-2.835-.075-.18-.75-3.06-1.29-3.675-.45-.255-1.095-.885-.015-.9.96-.015 1.65.87 1.875 1.185 1.095 1.86 2.865 1.335 3.555 1.02.105-.795.435-1.335.795-1.635-2.64-.285-5.415-1.32-5.415-5.91 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405 1.02 0 2.04.135 3 .405 2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.825 1.095.825 2.22 0 1.605-.015 2.895-.015 3.285 0 .315.225 .69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"})}),url:"https://github.com/search?q="},{id:"reddit",name:"Reddit",icon:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-full h-full","aria-hidden":"true",children:e.jsx("path",{fill:"#FF4500",d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"})}),url:"https://www.reddit.com/search/?q="},{id:"stackoverflow",name:"Stack Overflow",icon:e.jsxs("svg",{viewBox:"0 0 24 24",className:"w-full h-full","aria-hidden":"true",children:[e.jsx("path",{fill:"#BCBBBB",d:"M18.9 20.3V14h2.2v8.5H3.1V14h2.2v6.3h13.6z"}),e.jsx("path",{fill:"#F48024",d:"M7.3 12.6l10.5 2.2.4-2.1-10.4-2.1-.5 2zm1.6-4.6l9.7 4.2.9-1.9-9.8-4.2-.8 1.9zm3.5-5.2l8.2 6.6 1.3-1.6-8.2-6.6-1.3 1.6zm-5 13h10.7v-2.2H7.4v2.2zm-1.8-8.8l1.6-1.4 7.2 7.7-1.6 1.4-7.2-7.7z"})]}),url:"https://stackoverflow.com/search?q="}];function Ne({searchTerm:c,setSearchTerm:i,activeFilter:n,setActiveFilter:l,folders:x,bookmarksCount:h,selectedEngineId:m,setSelectedEngineId:g,hasWallpaper:r}){const[j,v]=p.useState(!1),d=$.find(t=>t.id===m),a=t=>{t.key==="Enter"&&c.trim()&&d&&window.open(d.url+encodeURIComponent(c),"_blank")};return e.jsx("div",{className:`sticky top-0 z-50 pb-4 rounded-b-3xl mb-4 transition-all ${r?"bg-transparent":"gradient-warm shadow-md"}`,children:e.jsx("div",{className:"px-5 pb-2 lg:px-12",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-3 max-w-7xl mx-auto",children:[e.jsx("div",{className:"relative flex-1 w-full max-w-2xl",children:e.jsxs("div",{className:"relative w-full group",children:[e.jsxs("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 z-20",children:[e.jsxs("button",{className:"flex items-center gap-1 pl-2 pr-1.5 py-1.5 rounded-full hover:bg-bg-input text-text-primary transition-all",onClick:()=>v(!j),children:[e.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:d?.icon}),e.jsx(B,{className:"w-3.5 h-3.5 text-text-muted opacity-50"})]}),j&&e.jsx("div",{className:"absolute top-full mt-2 left-0 min-w-45 bg-bg-card rounded-xl shadow-float p-1.5 animate-in fade-in slide-in-from-top-2 duration-200 border border-gray-100/50",children:$.map(t=>e.jsxs("button",{className:`flex items-center gap-3 w-full px-3 py-2.5 rounded-lg text-left text-sm transition-colors ${m===t.id?"bg-primary-orange-light text-primary-orange":"hover:bg-bg-input text-text-primary"}`,onClick:()=>{g(t.id),v(!1)},children:[e.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:t.icon}),e.jsx("span",{className:"font-medium",children:t.name})]},t.id))})]}),e.jsx("input",{type:"text",placeholder:`Search ${d?.name} or type a URL`,value:c,onChange:t=>i(t.target.value),onKeyDown:a,className:"w-full h-12 lg:h-14 pl-20 pr-6 rounded-full bg-bg-card text-base text-text-primary placeholder:text-text-muted shadow-card hover:shadow-float focus:outline-none focus:ring-2 focus:ring-primary-orange-light focus:shadow-float transition-all"})]})}),e.jsxs("div",{className:"hidden lg:flex gap-1.5 ml-auto",children:[e.jsxs("button",{className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all ${n==="all"?"bg-primary-orange text-white shadow-orange":"bg-bg-card text-text-secondary shadow-sm hover:shadow-md"}`,onClick:()=>l("all"),children:["All (",h,")"]}),x.slice(0,3).map(t=>e.jsx("button",{className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all ${n===t?"bg-primary-orange text-white shadow-orange":"bg-bg-card text-text-secondary shadow-sm hover:shadow-md"}`,onClick:()=>l(t),children:t},t))]})]})})})}function ke({activeFilter:c,setActiveFilter:i,folders:n,bookmarksCount:l}){return e.jsx("div",{className:"px-5 pb-4 lg:hidden",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${c==="all"?"bg-primary-orange text-white shadow-orange":"bg-bg-card text-text-secondary shadow-sm"}`,onClick:()=>i("all"),children:["All ",e.jsxs("span",{className:"opacity-75 text-xs",children:["(",l,")"]})]}),n.map(x=>e.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${c===x?"bg-primary-orange text-white shadow-orange":"bg-bg-card text-text-secondary shadow-sm"}`,onClick:()=>i(x),children:x},x))]})})}function Se({bookmarks:c,groupedBookmarks:i,expandedFolders:n,toggleFolder:l,onEdit:x,onDelete:h,onAdd:m,onImport:g}){const r=a=>{try{return new URL(a).hostname.replace("www.","")}catch{return a}},[j,v]=p.useState({}),d=(a,t)=>{t.stopPropagation(),v(o=>({...o,[a]:o[a]==="list"?"grid":"list"}))};return c.length===0?e.jsxs("div",{className:"text-center py-12 lg:py-10 px-6 bg-bg-card rounded-2xl border-2 border-dashed border-gray-200 my-3",children:[e.jsx("div",{className:"text-5xl mb-3 animate-bounce",children:"ðŸ“‘"}),e.jsx("h2",{className:"text-xl font-semibold mb-1.5 text-text-primary",children:"No bookmarks yet"}),e.jsx("p",{className:"text-sm text-text-secondary mb-5 max-w-xs mx-auto",children:"Add your first bookmark or import from Chrome"}),e.jsxs("div",{className:"flex gap-2.5 justify-center flex-wrap",children:[e.jsxs("button",{className:"flex items-center gap-1.5 px-5 py-2.5 rounded-full bg-primary-orange text-white text-sm font-semibold shadow-orange hover:bg-primary-orange-hover hover:-translate-y-0.5 transition-all",onClick:m,children:[e.jsx(ge,{className:"w-4 h-4"}),"Add Bookmark"]}),e.jsxs("label",{className:"flex items-center gap-1.5 px-5 py-2.5 rounded-full bg-bg-card text-text-primary text-sm font-semibold shadow-md hover:shadow-lg hover:-translate-y-0.5 transition-all cursor-pointer",children:[e.jsx(J,{className:"w-4 h-4"}),"Import",e.jsx("input",{type:"file",accept:".html",onChange:g,hidden:!0})]})]})]}):e.jsx("div",{className:"space-y-5",children:Object.entries(i).map(([a,t])=>{const o=j[a]||"grid";return e.jsxs("div",{className:"bg-bg-card/50 rounded-2xl p-2 lg:p-0 lg:bg-transparent",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 lg:mb-3 cursor-pointer select-none pl-1 pr-1 lg:px-0",onClick:()=>l(a),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`transition-transform duration-200 ${n[a]?"rotate-0":"-rotate-90"}`,children:e.jsx(B,{className:"w-4 h-4 text-text-muted"})}),e.jsx("h2",{className:"text-base lg:text-lg font-semibold text-text-primary",children:a}),e.jsx("span",{className:"px-2.5 py-0.5 rounded-full bg-primary-orange text-white text-xs font-semibold",children:t.length})]}),e.jsx("button",{onClick:u=>d(a,u),className:"p-1.5 rounded-lg hover:bg-bg-input text-text-secondary transition-colors",title:o==="grid"?"Switch to List View":"Switch to Grid View",children:o==="grid"?e.jsx(me,{className:"w-4 h-4"}):e.jsx(de,{className:"w-4 h-4"})})]}),n[a]&&e.jsx("div",{className:`animate-in fade-in slide-in-from-top-1 duration-200 ${o==="grid"?"grid grid-cols-2 lg:grid-cols-4 gap-2 lg:gap-3":"flex flex-col gap-2"}`,children:t.map((u,w)=>e.jsxs("div",{className:`relative rounded-xl transition-all overflow-hidden group ${o==="grid"?`flex flex-col p-3 lg:p-4 min-h-25 lg:min-h-30 shadow-card hover:shadow-float hover:-translate-y-0.5 ${w%3===0?"bg-accent-teal":w%3===1?"bg-primary-orange":"bg-accent-coral"}`:"flex items-center gap-3 p-3 bg-bg-card hover:bg-bg-input border border-transparent hover:border-gray-200/50 shadow-sm"}`,children:[e.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:o==="grid"?"flex flex-col flex-1 text-white":"flex items-center gap-3 flex-1 min-w-0",children:[o==="list"&&e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center shrink-0 text-lg overflow-hidden",children:e.jsx("img",{src:`https://www.google.com/s2/favicons?domain=${r(u.url)}&sz=64`,alt:"",className:"w-5 h-5 object-contain",onError:y=>{y.target.style.display="none",y.target.parentElement.innerText="ðŸ”—"}})}),e.jsxs("div",{className:o==="grid"?"contents":"flex flex-col min-w-0",children:[e.jsx("span",{className:`${o==="grid"?"font-semibold text-sm lg:text-base leading-tight line-clamp-2 mb-auto":"font-medium text-sm text-text-primary truncate"}`,children:u.title}),e.jsx("span",{className:`${o==="grid"?"text-xs lg:text-sm font-medium text-white/90 mt-2 truncate":"text-xs text-text-muted truncate"}`,children:r(u.url)})]})]}),e.jsxs("div",{className:`${o==="grid"?"absolute top-1.5 right-1.5 lg:top-2 lg:right-2 flex gap-0.5 opacity-100 lg:opacity-0 lg:group-hover:opacity-100":"flex gap-1 opacity-100 lg:opacity-0 lg:group-hover:opacity-100"} transition-opacity`,children:[e.jsx("button",{onClick:y=>{y.preventDefault(),x(u)},className:`rounded-md backdrop-blur-sm transition-colors ${o==="grid"?"p-1 lg:p-1.5 bg-white/20 hover:bg-white/30":"p-1.5 hover:bg-gray-200 text-text-secondary"}`,children:e.jsx(pe,{className:`w-2.5 h-2.5 lg:w-3 lg:h-3 ${o==="grid"?"text-white":"text-current"}`})}),e.jsx("button",{onClick:y=>{y.preventDefault(),h(u.id)},className:`rounded-md backdrop-blur-sm transition-colors ${o==="grid"?"p-1 lg:p-1.5 bg-white/20 hover:bg-white/30":"p-1.5 hover:bg-red-100 text-text-secondary hover:text-red-500"}`,children:e.jsx(be,{className:`w-2.5 h-2.5 lg:w-3 lg:h-3 ${o==="grid"?"text-white":"text-current"}`})})]})]},u.id))})]},a)})})}function Me({recentBookmarks:c}){const i=n=>{try{return new URL(n).hostname.replace("www.","")}catch{return n}};return c.length===0?null:e.jsxs("div",{className:"lg:sticky lg:top-28 lg:self-start bg-bg-card p-4 rounded-2xl shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-text-primary",children:"Recent"}),e.jsx("span",{className:"text-xs text-text-muted cursor-pointer hover:text-primary-orange transition-colors",children:"See All"})]}),e.jsx("div",{className:"space-y-1.5",children:c.map(n=>e.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2.5 p-2.5 rounded-xl hover:bg-bg-input hover:translate-x-0.5 transition-all",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-accent-yellow flex items-center justify-center shrink-0",children:e.jsx(Q,{className:"w-4 h-4 text-text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-text-primary truncate",children:n.title}),e.jsx("div",{className:"text-xs text-text-muted truncate",children:i(n.url)})]}),e.jsx(ae,{className:"w-4 h-4 text-text-muted shrink-0"})]},n.id))})]})}function Ce({isOpen:c,onClose:i,onSave:n,initialData:l,availableFolders:x}){const[h,m]=p.useState({title:"",url:"",folder:""});p.useEffect(()=>{c&&m(l?{title:l.title,url:l.url,folder:l.folder||""}:{title:"",url:"",folder:""})},[c,l]);const g=r=>{r.preventDefault(),n(h),i()};return c?e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-end lg:items-center justify-center p-0 lg:p-4 z-100",onClick:i,children:e.jsxs("div",{className:"w-full lg:max-w-sm max-h-[90vh] overflow-y-auto bg-bg-card rounded-t-2xl lg:rounded-2xl shadow-float",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 sticky top-0 bg-bg-card z-10",children:[e.jsx("h2",{className:"text-lg font-semibold",children:l?"Edit Bookmark":"Add Bookmark"}),e.jsx("button",{onClick:i,className:"w-8 h-8 rounded-full bg-bg-input flex items-center justify-center hover:bg-text-primary hover:text-white transition-colors",children:e.jsx(ye,{className:"w-4 h-4"})})]}),e.jsxs("form",{onSubmit:g,className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-xs font-medium text-text-secondary mb-1.5",children:"Title"}),e.jsx("input",{type:"text",value:h.title,onChange:r=>m({...h,title:r.target.value}),placeholder:"My Bookmark",required:!0,className:"w-full py-2.5 px-3 rounded-xl bg-bg-input border-2 border-transparent text-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:border-primary-orange focus:bg-bg-card transition-all"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-xs font-medium text-text-secondary mb-1.5",children:"URL"}),e.jsx("input",{type:"url",value:h.url,onChange:r=>m({...h,url:r.target.value}),placeholder:"https://example.com",required:!0,className:"w-full py-2.5 px-3 rounded-xl bg-bg-input border-2 border-transparent text-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:border-primary-orange focus:bg-bg-card transition-all"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-xs font-medium text-text-secondary mb-1.5",children:"Folder (optional)"}),e.jsx("input",{type:"text",value:h.folder,onChange:r=>m({...h,folder:r.target.value}),placeholder:"Work, Personal, etc.",list:"folders",className:"w-full py-2.5 px-3 rounded-xl bg-bg-input border-2 border-transparent text-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:border-primary-orange focus:bg-bg-card transition-all"}),e.jsx("datalist",{id:"folders",children:x.map(r=>e.jsx("option",{value:r},r))})]}),e.jsxs("div",{className:"flex gap-2.5 pt-1",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 py-2.5 rounded-full bg-bg-card text-sm text-text-primary font-semibold shadow-md hover:shadow-lg transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-2.5 rounded-full bg-primary-orange text-sm text-white font-semibold shadow-orange hover:bg-primary-orange-hover transition-all",children:l?"Save":"Add"})]})]})]})}):null}function Le(){const c=H(),{theme:i,toggleTheme:n}=K(),{bookmarks:l,addBookmark:x,updateBookmark:h,deleteBookmark:m,importBookmarks:g}=X(),{wallpaper:r,fetchNewWallpaper:j}=je(),[v,d]=p.useState(!1),[a,t]=p.useState(null),[o,u]=p.useState(""),[w,y]=p.useState("all"),[L,_]=p.useState("google"),[E,I]=p.useState({}),[M,ze]=p.useState(()=>typeof localStorage<"u"&&localStorage.getItem("username")||"User");p.useEffect(()=>{localStorage.setItem("username",M)},[M]);const[N,U]=p.useState(()=>{if(typeof localStorage<"u"){const s=localStorage.getItem("isWallpaperVisible");return s!==null?JSON.parse(s):!0}return!0});p.useEffect(()=>{localStorage.setItem("isWallpaperVisible",JSON.stringify(N))},[N]);const z=[...new Set(l.map(s=>s.folder||"Uncategorized"))],C=l.filter(s=>{const b=s.title.toLowerCase().includes(o.toLowerCase())||s.url.toLowerCase().includes(o.toLowerCase())||(s.folder||"").toLowerCase().includes(o.toLowerCase());return w==="all"?b:b&&(s.folder||"Uncategorized")===w}),V=C.reduce((s,b)=>{const k=b.folder||"Uncategorized";return s[k]||(s[k]=[]),s[k].push(b),s},{}),W=s=>{I(b=>({...b,[s]:!b[s]}))},A=s=>{const b=s.target.files?.[0];if(!b)return;const k=new FileReader;k.onload=q=>{const G=Y(q.target?.result);g(G)},k.readAsText(b),s.target.value=""},F=()=>{t(null),d(!0)},D=s=>{t(s),d(!0)},R=s=>{a?h(a.id,s):x(s)},T=()=>{!N&&!r&&j(),U(!N)},S=N?r:null;return e.jsxs("div",{className:"min-h-screen flex flex-col pb-24 lg:pb-6 lg:pl-20 relative overflow-x-hidden transition-all duration-500 ease-in-out bg-cover bg-center bg-fixed bg-no-repeat",style:{backgroundImage:S?`url(${S})`:void 0},children:[e.jsx("div",{className:`absolute inset-0 z-0 pointer-events-none transition-opacity duration-300 ${S?i==="light"?"bg-bg-solid/30 backdrop-blur-[0.5px]":"bg-bg-solid/40 backdrop-blur-[2px]":""}`}),e.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[e.jsx(ve,{theme:i,toggleTheme:n,onRefreshWallpaper:j,toggleWallpaperVisibility:T,isWallpaperVisible:N,username:M,onOpenSettings:()=>c({to:"/settings"})}),e.jsx(Ne,{searchTerm:o,setSearchTerm:u,activeFilter:w,setActiveFilter:y,folders:z,bookmarksCount:l.length,selectedEngineId:L,setSelectedEngineId:_,hasWallpaper:!!S}),e.jsx(ke,{activeFilter:w,setActiveFilter:y,folders:z,bookmarksCount:l.length}),e.jsx("main",{className:"flex-1 px-5 lg:px-12",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[1fr_280px] gap-5 lg:gap-8",children:[e.jsx(Se,{bookmarks:l,groupedBookmarks:V,expandedFolders:E,toggleFolder:W,onEdit:D,onDelete:m,onAdd:F,onImport:A}),C.length>0&&e.jsx(Me,{recentBookmarks:C.slice(0,6)})]})})}),e.jsx(Ce,{isOpen:v,onClose:()=>d(!1),onSave:R,initialData:a,availableFolders:[...new Set(l.map(s=>s.folder).filter(Boolean))]})]})]})}export{Le as component};
